{"ast":null,"code":"import { create } from 'zustand';\nimport axios from 'axios';\nimport debounce from '../helpers/debounce';\nconst homeStore = create(set => ({\n  coins: [],\n  trending: [],\n  query: '',\n  searching: false,\n  setQuery: e => {\n    set({\n      query: e.target.value\n    });\n    homeStore.getState().searchCoins();\n  },\n  searchCoins: debounce(async () => {\n    set({\n      searching: true\n    });\n    const {\n      query,\n      trending\n    } = homeStore.getState();\n    if (query.length > 2) {\n      const res = await axios.get(`https://api.coingecko.com/api/v3/search?query=${query}`);\n      const coins = res.data.coins.map(coin => {\n        return {\n          name: coin.name,\n          image: coin.large,\n          id: coin.id\n        };\n      });\n      set({\n        coins\n      });\n    } else {\n      set({\n        coins: trending,\n        searching: false\n      });\n    }\n  }, 500),\n  fetchCoins: async () => {\n    const [res, btcRes] = await Promise.all([axios.get(`https://api.coingecko.com/api/v3/search/trending`), axios.get(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd`)]);\n    const btcPrice = btcRes.data.bitcoin.usd;\n    console.log(btcPrice);\n    const coins = res.data.coins.map(coin => {\n      return {\n        name: coin.item.name,\n        image: coin.item.large,\n        id: coin.item.id,\n        priceBtc: coin.item.price_btc.toFixed(10),\n        priceUsd: (coin.item.price_btc * btcPrice).toFixed(10)\n      };\n    });\n    console.log(coins);\n    set({\n      coins,\n      trending: coins\n    });\n  }\n}));\nexport default homeStore;","map":{"version":3,"names":["create","axios","debounce","homeStore","set","coins","trending","query","searching","setQuery","e","target","value","getState","searchCoins","length","res","get","data","map","coin","name","image","large","id","fetchCoins","btcRes","Promise","all","btcPrice","bitcoin","usd","console","log","item","priceBtc","price_btc","toFixed","priceUsd"],"sources":["/Users/nikhiluppala/Documents/React/Git/CryptoTracker/coiner/src/stores/homeStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport axios from 'axios';\nimport debounce from '../helpers/debounce';\n\nconst homeStore = create((set) => ({\n\n   coins: [],\n   trending: [],\n   query: '',\n   searching: false,\n\n   setQuery: (e) =>{\n    set({query: e.target.value})\n    homeStore.getState().searchCoins()\n   },\n\n   searchCoins: debounce( async () => {\n    set({searching: true});\n    const {query, trending} = homeStore.getState();\n\n    if(query.length > 2){\n        const res = await axios.get(`https://api.coingecko.com/api/v3/search?query=${query}`)\n        const coins = res.data.coins.map(coin => {\n            return {\n                name: coin.name,\n                image: coin.large,\n                id: coin.id,\n            }\n        })\n         set({coins});\n} else{\n    \n    set({coins: trending, searching: false});\n}\n   }, 500),\n\nfetchCoins: async () => {\n    const [res, btcRes] = await Promise.all([\n        axios.get(`https://api.coingecko.com/api/v3/search/trending`),\n        axios.get(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd`)\n    ])\n   \n    const btcPrice = btcRes.data.bitcoin.usd\n    console.log(btcPrice);\n   const coins = res.data.coins.map(coin => {\n        return{\n            name: coin.item.name,\n            image: coin.item.large,\n            id: coin.item.id,\n            priceBtc: (coin.item.price_btc).toFixed(10),\n            priceUsd:( coin.item.price_btc * btcPrice).toFixed(10),\n        }\n   })\n   console.log(coins)\n   set({coins, trending: coins})\n   \n  }\n}))\n\nexport default homeStore;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,qBAAqB;AAE1C,MAAMC,SAAS,GAAGH,MAAM,CAAEI,GAAG,KAAM;EAEhCC,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE,EAAE;EACTC,SAAS,EAAE,KAAK;EAEhBC,QAAQ,EAAGC,CAAC,IAAI;IACfN,GAAG,CAAC;MAACG,KAAK,EAAEG,CAAC,CAACC,MAAM,CAACC;IAAK,CAAC,CAAC;IAC5BT,SAAS,CAACU,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EACnC,CAAC;EAEDA,WAAW,EAAEZ,QAAQ,CAAE,YAAY;IAClCE,GAAG,CAAC;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACtB,MAAM;MAACD,KAAK;MAAED;IAAQ,CAAC,GAAGH,SAAS,CAACU,QAAQ,CAAC,CAAC;IAE9C,IAAGN,KAAK,CAACQ,MAAM,GAAG,CAAC,EAAC;MAChB,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAE,iDAAgDV,KAAM,EAAC,CAAC;MACrF,MAAMF,KAAK,GAAGW,GAAG,CAACE,IAAI,CAACb,KAAK,CAACc,GAAG,CAACC,IAAI,IAAI;QACrC,OAAO;UACHC,IAAI,EAAED,IAAI,CAACC,IAAI;UACfC,KAAK,EAAEF,IAAI,CAACG,KAAK;UACjBC,EAAE,EAAEJ,IAAI,CAACI;QACb,CAAC;MACL,CAAC,CAAC;MACDpB,GAAG,CAAC;QAACC;MAAK,CAAC,CAAC;IACrB,CAAC,MAAK;MAEFD,GAAG,CAAC;QAACC,KAAK,EAAEC,QAAQ;QAAEE,SAAS,EAAE;MAAK,CAAC,CAAC;IAC5C;EACG,CAAC,EAAE,GAAG,CAAC;EAEViB,UAAU,EAAE,MAAAA,CAAA,KAAY;IACpB,MAAM,CAACT,GAAG,EAAEU,MAAM,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpC3B,KAAK,CAACgB,GAAG,CAAE,kDAAiD,CAAC,EAC7DhB,KAAK,CAACgB,GAAG,CAAE,6EAA4E,CAAC,CAC3F,CAAC;IAEF,MAAMY,QAAQ,GAAGH,MAAM,CAACR,IAAI,CAACY,OAAO,CAACC,GAAG;IACxCC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;IACtB,MAAMxB,KAAK,GAAGW,GAAG,CAACE,IAAI,CAACb,KAAK,CAACc,GAAG,CAACC,IAAI,IAAI;MACpC,OAAM;QACFC,IAAI,EAAED,IAAI,CAACc,IAAI,CAACb,IAAI;QACpBC,KAAK,EAAEF,IAAI,CAACc,IAAI,CAACX,KAAK;QACtBC,EAAE,EAAEJ,IAAI,CAACc,IAAI,CAACV,EAAE;QAChBW,QAAQ,EAAGf,IAAI,CAACc,IAAI,CAACE,SAAS,CAAEC,OAAO,CAAC,EAAE,CAAC;QAC3CC,QAAQ,EAAC,CAAElB,IAAI,CAACc,IAAI,CAACE,SAAS,GAAGP,QAAQ,EAAEQ,OAAO,CAAC,EAAE;MACzD,CAAC;IACN,CAAC,CAAC;IACFL,OAAO,CAACC,GAAG,CAAC5B,KAAK,CAAC;IAClBD,GAAG,CAAC;MAACC,KAAK;MAAEC,QAAQ,EAAED;IAAK,CAAC,CAAC;EAE9B;AACF,CAAC,CAAC,CAAC;AAEH,eAAeF,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}